<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:j="http://java.sun.com/jsp/jstl/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Defunci&oacute;n</title>
</h:head>
<h:body>
<ui:composition template="/templates/layout.xhtml">
		<ui:define name="content">
        <h:form >
        <h2>Defunci&oacute;n</h2>
        
        <h3>Detalle Acta de Defunci&oacute;n</h3>
                 
            <p:messages id="messages" closable="false" />
            <p:tabView id="tabView" dynamic="false" cache="true">

                    <p:tab id="tabFinado" title="Datos Finado">
                       <ui:include src="datosPersonalesFinado.xhtml"/>
                    </p:tab>

                    <p:tab id="tabFamiliares" title="Familiares">

                        <p:fieldset legend="Conyuge" toggleable="true">
                        <ui:include src="datosPersonalesConyuge.xhtml"/>
                        </p:fieldset>
                        <br/>
                        <p:fieldset legend="Progenitor Uno" toggleable="true">
                        <ui:include src="datosPersonalesProgenitorUno.xhtml"/>
                        </p:fieldset>
                        <br/>
                        <p:fieldset legend="Progenitor Dos" toggleable="true">
                        <ui:include src="datosPersonalesProgenitorDos.xhtml"/>
                        </p:fieldset>

                    </p:tab>

                    <p:tab id="tabDeclarante" title="Declarante">
                         <ui:include src="datosPersonalesDeclarante.xhtml"></ui:include>                        
                    </p:tab>

                    <p:tab id="tabFallecimiento" title="Fallecimiento">
                    <h3>Datos del Fallecimiento: </h3>
                       <p:fieldset legend="Datos Fallecimiento" toggleable="true">
                          <ui:include src="datosPersonalesFallecimiento.xhtml"></ui:include>   
                       </p:fieldset>
                       <p:fieldset legend="Datos Medico" toggleable="true">
                          <ui:include src="datosPersonalesFallecimientoMedico.xhtml"></ui:include>   
                       </p:fieldset>
                       <p:fieldset legend="Datos Destino Finado" toggleable="true">
                          <ui:include src="datosPersonalesFallecimientoDestinoFinado.xhtml"></ui:include>  
                       </p:fieldset>
                    </p:tab>

                    <p:tab id="tabTestigos" title="Testigos">
                       <p:fieldset legend="Testigo Uno" toggleable="true">
                          <ui:include src="datosPersonalesTestigoUno.xhtml"></ui:include>   
                       </p:fieldset>
                       <p:fieldset legend="Testigo Dos" toggleable="true">
                          <ui:include src="datosPersonalesTestigoDos.xhtml"></ui:include>
                       </p:fieldset>	
                    </p:tab>

                    <p:tab id="tabActa" title="Acta">
                          <ui:include src="acta.xhtml"></ui:include>
                    </p:tab>

                    <p:tab id="tabEstadisticos" title="Estad&iacute;sticos">
                          <ui:include src="datosComplementarios.xhtml"></ui:include> 
                    </p:tab>

                    <p:tab id="tabTranscripcion" title="Transcripci&oacute;n">
                          <ui:include src="transcripcion.xhtml"></ui:include>
                    </p:tab>
                </p:tabView>
            <h:panelGrid columns="2">
                <p:commandButton value="Eliminar Acto Defuncion"
                                 action="#{defuncionesPrincipalBean.eliminarDefuncion(defuncionDetalleBean.defuncionDetalle.id)}"
                                 style="background: red; color: #FFFFFF;"/>
                <p:commandButton value="Regresar" action="#{defuncionesPrincipalBean.regresarDefuncion()}"/>
            </h:panelGrid>

            <p:dialog id="errorDialog" header="Error al Guardar" widgetVar="errorDialog"
                      modal="true" closable="false" showEffect="bounce"
                      resizable="false">
                <h:panelGrid columns="1">
                    <p:messages id="messagesError" autoUpdate="true" closable="false"/>
                    <p:commandButton label="Aceptar" onclick="PF('errorDialog').hide();" value="Aceptar"/>
                </h:panelGrid>
            </p:dialog>
                
            </h:form>

            </ui:define>
	</ui:composition>
</h:body>
</html>